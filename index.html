<!DOCTYPE html>
<html lang="ht">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kesyon Konesans</title>
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    <style>
        body { background: radial-gradient(circle, #000033 0%, #000000 100%); color: white; font-family: 'Arial', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        #game-container { width: 95%; max-width: 500px; text-align: center; border: 2px solid #ffd700; padding: 15px; border-radius: 15px; box-shadow: 0 0 25px rgba(255, 215, 0, 0.4); }
        .question-box { background: linear-gradient(to right, #000066, #0000cc, #000066); padding: 15px; margin-bottom: 15px; border: 2px solid white; border-radius: 20px; font-size: 1rem; min-height: 50px; display: flex; align-items: center; justify-content: center; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .option-btn { background: linear-gradient(to right, #000044, #000088, #000044); border: 1px solid white; color: white; padding: 12px; border-radius: 50px; cursor: pointer; font-size: 0.85rem; transition: 0.2s; }
        .correct { background: #00cc00 !important; }
        .wrong { background: #cc0000 !important; }
        .joker-container { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
        .joker-btn { background: #ffd700; color: black; border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; cursor: pointer; font-size: 0.8rem; }
        .joker-btn:disabled { background: #555; color: #888; cursor: not-allowed; }
        #score-board { color: #ffd700; font-weight: bold; font-size: 1.1rem; margin-bottom: 5px; }
        #msg { height: 20px; color: #00ff00; font-size: 0.9rem; margin-top: 10px; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen">
        <h1>KESYON KONESANS</h1>
        <p>Istwa & Biyoloji (9èm - NS2)</p>
        <button onclick="startGame()" style="background:#ffd700; padding:15px 30px; border:none; border-radius:10px; font-weight:bold; cursor:pointer;">JWE KOUNYE A</button>
    </div>

    <div id="quiz-ui" style="display: none;">
        <div id="score-board">Lajan: $0</div>
        <div class="joker-container">
            <button id="joker50" class="joker-btn" onclick="use5050()">50/50</button>
            <button id="jokerPublic" class="joker-btn" onclick="usePublic()">Mande Piblik</button>
        </div>
        <div class="question-box" id="question"></div>
        <div class="options-grid">
            <button class="option-btn" onclick="checkAnswer('A')" id="btnA"></button>
            <button class="option-btn" onclick="checkAnswer('B')" id="btnB"></button>
            <button class="option-btn" onclick="checkAnswer('C')" id="btnC"></button>
            <button class="option-btn" onclick="checkAnswer('D')" id="btnD"></button>
        </div>
        <div id="msg"></div>
    </div>
</div>

<script>
    let audioCtx;
    function playBeep(f, d) {
        if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.frequency.value = f; o.connect(g); g.connect(audioCtx.destination);
        g.gain.setValueAtTime(0.1, audioCtx.currentTime); o.start(); o.stop(audioCtx.currentTime + d);
    }

    const allQuestions = [
        { q: "Ki lwa ki te aboli esklavaj an 1793?", A: "Code Noir", B: "Dekrè Sonthonax", C: "Akò Bâle", D: "Lwa Masèl", correct: "B", m: 1000 },
        { q: "Ki òganit ki pwodui enèji nan selil la?", A: "Nwayo", B: "Mitokondri", C: "Ribozòm", D: "Po", correct: "B", m: 5000 },
        { q: "Ki kote Dessalines te pwoklame endepandans lan?", A: "Gonayiv", B: "Okap", C: "Milo", D: "Pòtoprens", correct: "A", m: 10000 },
        { q: "Ki molekil ki pote kòd jenetik la?", A: "ADN", B: "ARN", C: "Vitamin", D: "Sèl", correct: "A", m: 50000 },
        { q: "Ki batay ki te fèt 18 novanm 1803?", A: "Vètyè", B: "Milo", C: "Sereine", D: "Bulto", correct: "A", m: 100000 },
        { q: "Ki sa ki inite de baz lavi a?", A: "Selil", B: "Atòm", C: "Tisi", D: "Zo", correct: "A", m: 250000 },
        { q: "Ki premye non Ayiti te genyen?", A: "Ayiti", B: "Quisqueya", C: "Sen Domeng", D: "Bohio", correct: "B", m: 500000 },
        { q: "Konbyen kwomozòm yon moun nòmal genyen?", A: "46", B: "23", C: "48", D: "50", correct: "A", m: 1000000 }
    ];

    let currentIdx = 0;
    let score = 0;

    function startGame() {
        currentIdx = 0; score = 0;
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('quiz-ui').style.display = 'block';
        document.getElementById('joker50').disabled = false;
        document.getElementById('jokerPublic').disabled = false;
        loadQuestion();
    }

    function loadQuestion() {
        const q = allQuestions[currentIdx];
        document.getElementById('question').innerText = q.q;
        document.getElementById('btnA').innerText = "A: " + q.A;
        document.getElementById('btnB').innerText = "B: " + q.B;
        document.getElementById('btnC').innerText = "C: " + q.C;
        document.getElementById('btnD').innerText = "D: " + q.D;
        document.querySelectorAll('.option-btn').forEach(b => { b.className = 'option-btn'; b.style.visibility = 'visible'; });
        document.getElementById('msg').innerText = "";
    }

    function checkAnswer(choice) {
        const q = allQuestions[currentIdx];
        if (choice === q.correct) {
            playBeep(600, 0.2);
            document.getElementById('btn'+choice).classList.add('correct');
            score = q.m;
            document.getElementById('score-board').innerText = `Lajan: $${score.toLocaleString()}`;
            setTimeout(() => {
                currentIdx++;
                if (currentIdx < allQuestions.length) loadQuestion();
                else { alert("OU GAYE $1,000,000!"); location.reload(); }
            }, 1200);
        } else {
            playBeep(150, 0.5);
            document.getElementById('btn'+choice).classList.add('wrong');
            alert("Move repons! W ap rekòmanse.");
            location.reload(); // Sa a fè l rekòmanse
        }
    }

    function use5050() {
        const q = allQuestions[currentIdx];
        const options = ['A', 'B', 'C', 'D'].filter(o => o !== q.correct);
        const toHide = options.sort(() => 0.5 - Math.random()).slice(0, 2);
        toHide.forEach(o => document.getElementById('btn'+o).style.visibility = 'hidden');
        document.getElementById('joker50').disabled = true;
        playBeep(400, 0.2);
    }

    function usePublic() {
        const q = allQuestions[currentIdx];
        document.getElementById('msg').innerText = `Piblik la di: ${q.correct} (85%)`;
        document.getElementById('jokerPublic').disabled = true;
        playBeep(400, 0.2);
    }
</script>
</body>
</html>